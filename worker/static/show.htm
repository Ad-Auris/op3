<!DOCTYPE html>
<html class="sl-theme-dark">

<head>
    <title>${showTitle} Â· OP3${titleSuffix}: The Open Podcast Prefix Project</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="canonical" href="${origin}/show/${showUuid}" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="robots" content="noindex" />
    ${styleTag}
    ${shoelaceCommon}
    <script type="module">
const initialData = /*${initialData}*/{};
const previewToken = '${previewToken}';
const sessionToken = '${sessionToken}';
/*${showJs}*/
    </script>
</head>

<body class="bg-neutral-900 text-neutral-300 flex flex-col">
    ${nonProdHeader}
    <div id="debug" class="whitespace-pre text-xs absolute top-0 p-2"></div>

    <h4 id="setup" class="my-16 mx-auto text-3xl font-semibold">${showTitle}</h4>
   
    <main class="wait mx-8">

        <sl-card class="card-basic">
            <div class="text-[2.5rem] leading-none mb-2" id="seven-day-downloads">xxx</div>
            <span class="text-sm">downloads in last 7 days</span>
            <div class="flex items-end mt-4 justify-between">
                <canvas id="seven-day-downloads-sparkline" class="max-h-[1.5rem] max-w-[8rem] opacity-75 cursor-pointer"></canvas>
                <sl-tooltip style="--sl-tooltip-arrow-size: 0;">
                    <div class="text-xs" slot="content">Total number of downloads for this podcast in the last 7 days, and a graph showing the recent history of this value.<br><br>In OP3, a download is defined as a unique GET request per IP within a 24-hr period (UTC day) from a non-bot user agent.</div>
                    <sl-icon name="info-circle" label="Info" class="cursor-pointer opacity-50"></sl-icon>
                </sl-tooltip>
            </div>
        </sl-card>

        <sl-card class="card-basic ml-8">
            <div class="text-[2.5rem] leading-none mb-2" id="thirty-day-downloads">xxx</div>
            <span class="text-sm">downloads in last 30 days</span>
            <div class="flex items-end mt-4 justify-between">
                <canvas id="thirty-day-downloads-sparkline" class="max-h-[1.5rem] max-w-[8rem] opacity-75 cursor-pointer"></canvas>
                <sl-tooltip style="--sl-tooltip-arrow-size: 0;">
                    <div class="text-xs" slot="content">Total number of downloads for this podcast in the last 30 days, and a graph showing the recent history of this value.<br><br>In OP3, a download is defined as a unique GET request per IP within a 24-hr period (UTC day) from a non-bot user agent.</div>
                    <sl-icon name="info-circle" label="Info" class="cursor-pointer opacity-50"></sl-icon>
                </sl-tooltip>
            </div>
        </sl-card>

        <sl-card class="card-basic ml-8">
            <div class="text-[2.5rem] leading-none mb-2">xxx</div>
            <span class="text-sm">audience last month</span>
        </sl-card>

        <canvas id="show-downloads" class="max-h-64 my-8"></canvas>

        <!-- export downloads -->
        <sl-card class="card-basic flex">
            <div slot="header" class="flex items-center justify-between">
                <div class="flex items-center"><sl-spinner id="export-spinner" class="hidden" style="--track-width: 0.1rem;"></sl-spinner><div id="export-title" class="ml-2">Export downloads</div></div>
                <sl-icon-button id="export-cancel" class="invisible" name="x-lg" label="Cancel"></sl-icon-button>
            </div>
            <sl-button-group>
                <sl-button id="export-month-0">Mmm YYYY</sl-button>
                <sl-button id="export-month-1">Mmm YYYY</sl-button>
                <sl-dropdown id="export-dropdown">
                    <sl-button id="export-older" slot="trigger" caret>Older</sl-button>
                    <sl-menu>
                        <sl-menu-item id="export-month-2">Mmm YYYY</sl-menu-item>
                    </sl-menu>
                </sl-dropdown>
            </sl-button-group>
            <sl-switch id="export-bots" class="block mt-4">Include bots</sl-switch>
        </sl-card>
    
        <canvas id="episode-1-downloads" class="max-h-64"></canvas>
        <canvas id="episode-2-downloads" class="max-h-64"></canvas>
        <canvas id="episode-3-downloads" class="max-h-64"></canvas>
        <canvas id="episode-4-downloads" class="max-h-64"></canvas>
    </main>

    ${cfAnalyticsSnippet}
</body>

</html>
